# TaskFlow MCP v1.3.3 Updates

## Summary
Successfully implemented and documented two major features for TaskFlow MCP:

### 1. YAML Format Support (Issue #5)
- **Implementation**: Added automatic format detection based on file extension (`.yaml`, `.yml` vs `.json`)
- **Benefits**: 
  - Better preservation of multiline descriptions
  - More human-readable task data files  
  - Easier manual editing when needed
- **Configuration**: Users can simply change their `TASK_MANAGER_FILE_PATH` to end with `.yaml` or `.yml`
- **Backward Compatibility**: Maintains full compatibility with existing JSON files

### 2. Robust Newline Handling (Issue #4)  
- **Problem Solved**: Fixed corrupted newline patterns like 'nn' and 'n-' appearing in saved task descriptions
- **Implementation**: Added comprehensive string sanitization using `sanitizeString()` function
- **Coverage**: Applied to all task descriptions, subtask descriptions, and text content
- **Result**: Multiline content now preserves correctly in both JSON and YAML formats

### 3. Documentation Updates Completed
- **CHANGELOG.md**: Added v1.3.3 entry with detailed feature descriptions
- **README.md**: Updated version badge, added YAML configuration examples, added feature bullets
- **OVERVIEW.md**: Updated version, technical details, and configuration information
- **MCP Config**: Created `mcp_config_yaml.json` as example for YAML usage

### 4. Testing Verification
- Both features tested thoroughly with multiline task descriptions
- Confirmed YAML format preserves content better than JSON for complex text
- Verified automatic format detection works correctly
- Confirmed backward compatibility with existing JSON files

### 5. GitHub Issues Resolution
- Issue #4 (newline handling): Closed with detailed technical explanation
- Issue #5 (YAML support): Closed with usage instructions and benefits
- Both issues include code examples and implementation details

## Implementation Details
- **js-yaml dependency**: Added for YAML parsing and serialization
- **File extension detection**: Uses path analysis to determine format
- **String sanitization**: Comprehensive regex-based newline normalization
- **Error handling**: Graceful fallback and informative error messages

## Future Considerations
- Monitor user feedback on YAML format adoption
- Consider additional serialization formats if requested
- Potential for configuration-based format preferences beyond file extension
- Possible migration tools for converting between formats

This update significantly improves the robustness and usability of TaskFlow MCP for handling complex, multiline task descriptions and provides users with format flexibility.
